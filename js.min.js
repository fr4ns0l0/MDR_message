// @ts-nocheck
var canvas,canvas2;document.addEventListener("DOMContentLoaded",init);var numElements,rect,startX,startY,currentX=1e4,currentY=1e4,loveboxes=[],isMouseDown=!1,success=!1,visitCount=0,maxDistance=240;let fillstep=20;function init(){const e=titles[Math.floor(Math.random()*titles.length)],t=(visitCount=parseInt(localStorage.getItem("visitCount"))||0)%messages.length,o=messages[t]+messageend;document.getElementById("title").textContent=e,document.getElementById("messagep").textContent=o,document.onselectstart=()=>!1,canvas2=document.getElementById("nums"),rect=canvas2.getBoundingClientRect(),window.addEventListener("resize",(()=>{rect=canvas2.getBoundingClientRect()})),document.querySelectorAll(".lovebox").forEach((e=>loveboxes.push(e)));for(let e=0;e<42;e++){const t=getSpecialNum(),o=document.createElement("div");o.className="num",o.dataset.sc="0",o.id=`num_${e}`,o.innerHTML=`\n            <div class="num1">${t}</div>\n            <div class="num2">${t}</div>\n        `,o.style.opacity="0",canvas2.prepend(o),setTimeout((()=>{o.style.transition="opacity 600ms",o.style.opacity="1"}),500*Math.random())}const n=canvas2.offsetWidth,s=canvas2.offsetHeight,l=n/6,a=s/7;(numElements=document.querySelectorAll(".num")).forEach(((e,t)=>{const o=Math.floor(t/6),n=t%6;e.style.position="absolute",e.style.left=n*l+l/2+"px",e.style.top=o*a+a/2+"px"})),document.getElementById("scanlines").addEventListener("mousedown",(e=>appmousedown(e,!1))),document.getElementById("app").addEventListener("mousemove",(e=>appmousemove(e,!1))),document.addEventListener("mouseup",appmouseup),document.addEventListener("touchstart",(e=>appmousedown(e,!0))),document.addEventListener("touchmove",(e=>{e.preventDefault(),appmousemove(e,!0)})),document.addEventListener("touchend",appmouseup),document.getElementById("botreplay").addEventListener("click",(()=>location.reload())),setInterval(updatenums,1e3/15)}function animate(e,t,o,n="ease"){return e.style.transition=Object.keys(t).map((e=>`${e} ${o}ms ${n}`)).join(", "),Object.assign(e.style,t),new Promise((e=>{setTimeout(e,o)}))}function updatePosition(e,t,o){e.style.transform=`translate(${t}px, ${o}px)`}function getSpecialNum(){var e=Math.random();return i2=e<.4?specialNumbers[Math.floor(Math.random()*specialNumbers.length)]:Math.floor(99*Math.random())+1,i2}function appmousemove(e,t){if(!success){if(t){let t=e.touches[0]||e.changedTouches[0];currentX=t.pageX-rect.left,currentY=t.pageY-rect.top}else currentX=e.clientX-rect.left,currentY=e.clientY-rect.top;if(isMouseDown){var o=Math.abs(currentX-startX),n=Math.abs(currentY-startY),s=currentX<startX?currentX:startX,l=currentY<startY?currentY:startY;document.getElementById("selection").style.left=s+"px",document.getElementById("selection").style.top=l+"px",document.getElementById("selection").style.width=o+"px",document.getElementById("selection").style.height=n+"px"}}}function appmousedown(e,t){if(!success){if(t){let t=e.touches[0]||e.changedTouches[0];currentX=t.pageX-rect.left,currentY=t.pageY-rect.top}else currentX=e.clientX-rect.left,currentY=e.clientY-rect.top;isMouseDown=!0,startX=currentX,startY=currentY,document.getElementById("selection").style.left=startX+"px",document.getElementById("selection").style.top=startY+"px",document.getElementById("selection").style.width="0",document.getElementById("selection").style.height="0",document.getElementById("selection").style.display="block"}}function appmouseup(){if(!success){var e=document.getElementById("selection").getBoundingClientRect();console.log("selectionRect: "+e.left+" "+e.top+" "+e.right+" "+e.bottom),isMouseDown&&(isMouseDown=!1,document.getElementById("selection").style.display="none"),isMouseDown=!1,e.width>50&&e.height>50&&(document.querySelectorAll(".num:not(.removed)").forEach((function(t){var o=t.getBoundingClientRect();if(!(e.right<o.left||e.left>o.right||e.bottom<o.top||e.top>o.bottom)){var n=t.querySelector(".num2").style.opacity,s=t.querySelector(".num1").textContent;if(n>.8&&(42==s||specialNumbers.includes(parseInt(s)))){var l=t.cloneNode(!0),a=getSpecialNum();l.querySelector(".num1").textContent=a,l.querySelector(".num2").textContent=a,l.style.opacity="0",setTimeout((()=>{l.style.transition="opacity 1000ms",l.style.opacity="1"}),1e3*Math.random()),document.getElementById("nums").appendChild(l),t.classList.add("removed")}}})),totremoved=document.querySelectorAll(".removed").length,animateRemoved())}}let lovebox,totremoved=0;function animateRemoved(){if(totremoved>0){if(lovebox=loveboxes[Math.floor(Math.random()*loveboxes.length)],parseInt(lovebox.querySelector(".lovefill").getAttribute("fill"))>=100)return void animateRemoved();var e=lovebox.offsetLeft,t=document.getElementById("bottom").offsetTop-document.getElementById("bottom").offsetHeight/2;lovebox.classList.add("open"),document.querySelectorAll(".removed").forEach((function(o){o.style.transition="all 800ms ease-in-out",o.style.left=e+"px",o.style.top=t+"px",o.style.opacity="0.2",setTimeout((()=>{o.remove()}),800)})),totremoved>0&&setTimeout(updatelovebox,1e3)}}function updatelovebox(){lovebox.classList.remove("open");var e=parseInt(lovebox.querySelector(".lovefill").getAttribute("fill"));e+=totremoved*fillstep,lovebox.setAttribute("fill",e),lovebox.querySelector(".lovefill").textContent=e+"%",lovebox.querySelector(".lovefill").setAttribute("fill",e),lovebox.querySelector(".lovefill").style.backgroundSize=e+"% 100%",e>20&&(lovebox.querySelector(".lovefill").style.color="black"),e>=100&&(lovebox.querySelector(".lovefill").textContent="100%",lovebox.querySelector(".lovename").textContent.includes("❤")||(lovebox.querySelector(".lovename").textContent=lovebox.querySelector(".lovename").textContent+" ❤"),lovebox.querySelector(".lovefill").style.backgroundSize="110% 100%",lovebox.querySelector(".lovefill").style.backgroundImage="url(imgs/progressok.png)");var t=!0;if(document.querySelectorAll(".lovefill").forEach((function(e){parseInt(e.getAttribute("fill"))<100&&(t=!1)})),t){success=!0,localStorage.setItem("visitCount",visitCount+1),document.getElementById("selection").style.display="none",document.querySelectorAll(".num").forEach((function(e){e.style.transition="opacity 800ms",e.style.opacity="0"}));var o=document.querySelector("#message p").textContent;document.querySelector("#message p").textContent="";var n=0;setTimeout((function e(){if(document.getElementById("message").style.display="block",document.getElementById("botreplay").style.display="block",n<o.split(/(\s+|<br>)/).length){let t=o.split(/(\s+|<br>)/)[n];console.log("word: "+t),"Te"!=t&&"-Pantolo"!=t||(document.querySelector("#message p").innerHTML+="<br>"),document.querySelector("#message p").innerHTML+=t,n++,setTimeout(e,100)}}),1e3)}}function updatenums(){document.querySelectorAll(".num:not(.removed)").forEach((function(e){var t=parseFloat(e.getAttribute("data-sc"));t>0&&(t-=1.1);var o=e.offsetLeft,n=e.offsetTop,s=o-currentX,l=n-currentY,a=Math.sqrt(s*s+l*l);if(a<maxDistance){var r=(maxDistance-a)/maxDistance/2,c=(Math.random()-.5)*r*1,i=Math.atan2(l,s),u=10*r,m=Math.cos(i)*u,d=Math.sin(i)*u;t<24&&(t+=3.6*r),e.style.marginLeft=c+m+"px",e.style.marginTop=c+d+"px",e.style.fontSize=18+Math.floor(t)+"px",e.querySelector(".num2").style.opacity=t/10}else e.style.fontSize=18+Math.floor(t)+"px";e.setAttribute("data-sc",t)}))}var titles=["BIENESTAR","FELICIDAD","EQUILIBRIO","CALMA","SERENIDAD","CONFORMIDAD","SINTONÍA","COMPLICIDAD","PUREZA","CLARIDAD","ARMONÍA","PERFECCIÓN","DEVOCIÓN","INTEGRIDAD","SACRIFICIO","ENTREGA","ILUMINACIÓN","TRANQUILIDAD","CUARENTAYDOS","AMORE"];specialNumbers=[42,15,27,1,25,13,8,17,21,75,89];var messages=["Dentri o fueri, el verdadero bienestar es estar contigo.","Gracias por refinar mi vida y a esta familia.","No hay macrodatos suficientes para cuantificar lo que te amo.","Oye, tenemos que hacer un Waffle Party algún dia no?.","Los macrodatos lo confirman: te quiero más que nunca.","5 años refinando la vida juntos, dentri y fueri.","Hoy es Viernes de severance, ¡y hay empanadas!","Y ChatGPT no me ha ayudado nada, ¡es un puto desastre!. "],messageend=" Te Kier-o mucho más que muchísimo: -Pantolo";